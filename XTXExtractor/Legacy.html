<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>XuetangX Discussion ID & Thread ID Extractor</title>
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans:700" rel="stylesheet">
  </head>
 
<body>
    <font face="Noto Sans">XuetangX Discussion ID & Thread ID Extractor for UMx Team</font> <br>Version: 1.0; Special Thanks: Kirisame Mion<br>
    <br>
    URL of the Thread: 
    <input type="text" id="weblinkbox" style="width:28.5em;"/>
    <button onclick="go()">GO!</button>
    <script type="text/javascript">
        function go(){
            // A Silly Solution
            var mooclinkA = document.getElementById("weblinkbox").value;
            var mooclinkB = document.getElementById("weblinkbox").value;
            var didbox=document.getElementById("discussionid");
            var tidbox=document.getElementById("threadid");
            var regexDID = new RegExp(/(?<=forum\/).*(?=\/threads)/g);
            var regexTID = new RegExp(/(?<=threads\/).*/g);
            var didtext
            var tidtext
            while ((didtext = regexDID.exec(mooclinkA)) != null)  {
              didbox.value = (didtext);
            }            
            while ((tidtext = regexTID.exec(mooclinkB)) != null)  {
              tidbox.value = (tidtext);
            }
        }
      function excited(){
        var url = window.location.href;
          var arr = url.split('/');
          alert("BeforeThread: "+arr[7]+"\n"+"AfterThread: "+arr[9]);

      }
    </script>

    <br><br>
    Discussion ID:
    <input type="text" id="discussionid" readonly="readonly" style="width:24em;">
    <button id="copyDID">Copy Discussion ID</button>
    <script>
      function FcopyDID() {
        var DIDcopied=document.getElementById("discussionid");
        DIDcopied.select();
        document.execCommand('copy');
        alert("Succeed (Discussion ID)!");
      }
      document.getElementById('copyDID').addEventListener('click', FcopyDID, false);
    </script>

    <br><br>
    Thread ID:
    <input type="text" id="threadid" readonly="readonly" style="width:28em;">
    <button id="copyTID">Copy Thread ID</button>
    <script>
        function FcopyTID() {
          var TIDcopied=document.getElementById("threadid");
          TIDcopied.select();
          document.execCommand('copy');
          alert("Succeed (Thread ID)!");
        }
        document.getElementById('copyTID').addEventListener('click', FcopyTID, false);
      </script>

<br><br>

<button id="OneKeyCopy" style="width:44.5em;">One-Key Copy (Beta)</button>
<script>
    document.getElementById('OneKeyCopy').addEventListener('click', go, false);
    document.getElementById('OneKeyCopy').addEventListener('click', FcopyDID, false);
    document.getElementById('OneKeyCopy').addEventListener('click', FcopyTID, false);

</script>


<br><br><img src="V1.jpg" width=490 px>

  </body>
 
<!-- 
Discussion ID
(?<=forum\/).*(?=\/threads)
Thread ID
(?<=threads\/).*
-->
